import{i as p,k as j,u as x,r as m,j as e,B as f}from"./main-Dm1cB4_l.js";import{B as v}from"./ButtonFrame-DkbzsbD0.js";const o={};function M(){const{active:a,details:n,refetch:s}=p(),{maintenance:t,setMaintenance:r}=j(),l=x();m.useEffect(()=>{n||s()},[n,s]);const i=!!(a&&n),c=!a&&t.justEnded,d=()=>{const u=t.previousLocation&&t.previousLocation!=="/maintenance"?t.previousLocation:"/game";r(h=>({...h,justEnded:!1,previousLocation:null})),l(u,{replace:!0})};return!i&&!c?e.jsx("p",{children:"No maintenance scheduled."}):e.jsxs("div",{className:o.MaintenancePage,children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Site Under Maintenance"}),e.jsx("p",{children:n.name}),e.jsx("p",{children:n.description}),e.jsxs("p",{children:["Scheduled from: ",new Date(n.startTime).toLocaleString()," ",e.jsx("br",{}),"Until: ",new Date(n.endTime).toLocaleString()]}),e.jsx("p",{children:"We apologise for the inconvenience. Please check back later."})]}),c&&e.jsxs("div",{className:o.maintenanceEnded,children:[e.jsx("h1",{children:"Maintenance finished!"}),e.jsx("p",{children:"You can now return to the app. Enjoy!"}),e.jsx(v,{children:e.jsx(f,{onClick:d,children:"Return to app"})})]})]})}export{M as default};
