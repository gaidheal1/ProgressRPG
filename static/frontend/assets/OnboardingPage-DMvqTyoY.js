import{u as j,d as v,r as o,e as k,j as e}from"./main-mIsZZiLH.js";import{F as O}from"./Form-Dd6jwBQ7.js";import{I as S}from"./Input-BzcLRSRp.js";const _="_mobileOnly_1k0g0_1",N="_desktopOnly_1k0g0_11",l={mobileOnly:_,desktopOnly:N};function w(){return e.jsx("p",{children:"Begin your journey through onboarding."})}function C({value:s,onChange:t}){return e.jsx(e.Fragment,{children:e.jsx(S,{id:"display-name",label:"Display Name",value:s,onChange:t,placeholder:"Enter your display name",helpText:"This will be visible to others",required:!0})})}function D({characterAvailable:s,character:t}){return s?e.jsxs("p",{children:["âœ… You have been linked with a character called ",t.first_name,". His backstory: ",t.backstory]}):e.jsx("p",{style:{color:"red"},children:"No characters are currently available. Please check back later."})}function F(){return e.jsxs("div",{className:"onboarding-screenshots",children:[e.jsx("img",{src:"/images/tutorial-mob-p1-v2.png",className:l.mobileOnly,alt:"Mobile top"}),e.jsx("img",{src:"/images/tutorial-mob-p2-v2.png",className:l.mobileOnly,alt:"Mobile bottom"}),e.jsx("img",{src:"/images/tutorial-desktop-v2.png",className:l.desktopOnly,alt:"Desktop full"})]})}function B(){const s=j(),{step:t,progress:m,error:c,loading:p,characterAvailable:r}=v(),[a,b]=o.useState({}),[u,d]=o.useState(!1),{character:g,setCharacter:h}=k();if(o.useEffect(()=>{t===4&&s("/game")},[t,s]),p||t===void 0)return e.jsx("p",{children:"Loading onboarding statusâ€¦"});const f=async n=>{if(n.preventDefault(),u)return;d(!0);const i=await m(a);d(!1),i?.step===2&&h(i.character),i?.step===4&&s("/game")},x=()=>{switch(t){case 1:return e.jsx(C,{value:a.display_name||"",onChange:n=>b({...a,display_name:n}),characterAvailable:r});case 2:return e.jsx(D,{characterAvailable:r,character:g});case 3:return e.jsx(F,{});default:return e.jsx(w,{})}},y=()=>{switch(t){case 1:return"Continue";case 2:return"Confirm Character";case 3:return"Finish Tutorial";default:return"Start Onboarding"}};return e.jsxs("div",{children:[e.jsxs("h1",{children:["ðŸ§­ Onboarding Step ",t??"..."]}),c&&e.jsx("p",{style:{color:"red"},children:c}),e.jsx(O,{onSubmit:f,submitLabel:y(),isSubmitting:u,disabled:!r&&t===2,children:x()})]})}export{B as default};
