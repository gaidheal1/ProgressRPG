import{j as e,h as j,r as p,e as g}from"./main-Cj9oHexO.js";const L="_listSection_hwocj_1",N="_list_hwocj_1",B="_hidden_hwocj_46",w="_selected_hwocj_49",y="_selectable_hwocj_64",f={listSection:L,list:N,hidden:B,selected:w,selectable:y};function se({items:s=[],renderItem:r,onSelect:l,selectedItem:u,selectable:t=!1,className:_,sectionClass:o,getItemClassName:i}){return Array.isArray(s)||(s=Array.isArray(s.results)?s.results:[]),e.jsx("section",{className:j(f.listSection,o),children:e.jsx("ul",{className:j(f.list,{[f.selectable]:t},_),children:s.map((n,d)=>{const x=n===u,b=n.isHidden,h=i?.(n,d);return e.jsx("li",{className:j(h,{[f.selected]:x,[f.hidden]:b}),onClick:()=>t&&l?.(n),children:r?r(n,d):n},n.id||d)})})})}const C="_infoBox_16ol5_1",V="_columns_16ol5_22",$="_column_16ol5_22",W="_row_16ol5_39",I="_title_16ol5_48",S="_label_16ol5_67",M="_value_16ol5_80",R="_nameLabel_16ol5_93",k="_nameValue_16ol5_94",F="_levelLabel_16ol5_108",A="_levelValue_16ol5_109",O="_xpLabel_16ol5_123",P="_xpValue_16ol5_124",a={infoBox:C,columns:V,column:$,row:W,title:I,label:S,value:M,nameLabel:R,nameValue:k,levelLabel:F,levelValue:A,xpLabel:O,xpValue:P},T="_progressBarWrapper_1r9pj_1",E="_label_1r9pj_10",H="_labelMeasure_1r9pj_24",G="_progressTrack_1r9pj_44",X="_progressBarFill_1r9pj_54",q="_labelInside_1r9pj_68",z="_labelOutside_1r9pj_81",D="_warning_1r9pj_105",J="_danger_1r9pj_109",K="_paused_1r9pj_113",c={progressBarWrapper:T,label:E,labelMeasure:H,progressTrack:G,progressBarFill:X,labelInside:q,labelOutside:z,default:"_default_1r9pj_101",warning:D,danger:J,paused:K},Q=({value:s=0,max:r=100,label:l,color:u="default",paused:t=!1})=>{const _=Math.min(s/r*100,100),o=p.useRef(null),i=p.useRef(null),[n,d]=p.useState(0),[x,b]=p.useState(0);p.useEffect(()=>{o.current&&d(o.current.offsetWidth),i.current&&b(i.current.offsetWidth)},[_,l]);const h=n>x+10;return e.jsxs("div",{className:c.progressBarWrapper,children:[l&&e.jsx("span",{ref:i,className:c.labelMeasure,"aria-hidden":!0,children:l}),l&&!h&&e.jsx("span",{className:c.labelOutside,children:l}),e.jsx("div",{className:c.progressTrack,children:e.jsx("div",{ref:o,className:[c.progressBarFill,c[u]||c.default,t?c.paused:""].join(" "),style:{width:`${_}%`},children:l&&h&&e.jsx("span",{className:c.labelInside,children:l})})})]})};function U(s,r){return s?r==="player"?[{label:"Player",value:s.name},{label:"Level",value:s.level}]:r==="character"?[{label:"Character",value:s.first_name},{label:"Level",value:s.level}]:[]:[]}function Y(s){switch(s.toLowerCase()){case"level":return{labelClass:a.levelLabel,valueClass:a.levelValue};case"xp":return{labelClass:a.xpLabel,valueClass:a.xpValue};case"player":case"character":return{labelClass:a.nameLabel,valueClass:a.nameValue};default:return{labelClass:"",valueClass:""}}}function m({title:s,type:r,data:l}){const u=U(l,r);return e.jsxs("div",{className:a.infoBox,children:[s&&e.jsx("div",{className:a.title,children:s}),e.jsxs("div",{className:a.columns,children:[e.jsxs("div",{className:a.column,children:[u.map(({label:t,value:_},o)=>{const{labelClass:i,valueClass:n}=Y(t);return e.jsxs("div",{className:a.row,children:[e.jsxs("span",{className:`${a.label} ${i}`,children:[t,":"]}),e.jsx("span",{className:`${a.value} ${n}`,children:_})]},o)}),e.jsx(Q,{value:l.xp,max:l.xp_next_level,label:`XP: ${l.xp} / ${l.xp_next_level}`,color:"xp"})]}),e.jsx("div",{className:a.column})]})]})}const Z="_infoBar_1gspo_1",v={infoBar:Z};function le(){const{player:s,character:r,loading:l}=g();return l?e.jsx("div",{className:v.infoBar,children:"Loading data..."}):!s||!r?e.jsx("div",{className:v.infoBar,children:"Loading player/character info..."}):e.jsxs("div",{className:v.infoBar,children:[e.jsx(m,{title:"Player Info",type:"player",data:s}),e.jsx(m,{title:"Character Info",type:"character",data:r})]})}export{le as I,se as L};
